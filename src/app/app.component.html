<div class="hide"></div>

<div class="header">
  <h1 class="logo">AJ's Audio</h1>
  
  <div class="now-playing">
    @if (currentTitle) {
      <span class="status-label">Now Playing: </span> 
      <strong class="title-text">{{ currentTitle }}</strong>
    } @else {
      <span class="placeholder-text">Find something to play!</span>
    }
  </div>
</div>

<div class="search-container">
  <div class="search-wrapper">
    <span class="search-icon">ğŸ”</span>
    <input 
      [(ngModel)]="query" 
      placeholder="Search for artists, songs, or albums..." 
      (keyup.enter)="search()" />
    <button (click)="search()">Search</button>
  </div>
</div>

<div class="playlist-nav">
  <button class="nav-btn" (click)="loadPlaylist('Favorites')">â¤ï¸ Favorites</button>
  <button class="nav-btn" (click)="loadPlaylist('Country')">ğŸ¤  Country</button>
  <button class="nav-btn" (click)="loadPlaylist('Hard')">ğŸ¤˜ Hard</button>
  <button class="nav-btn" (click)="loadPlaylist('BigXThaPlug')">ğŸ˜ BigXThaPlug</button>
  <button class="nav-btn" (click)="loadPlaylist('3Pete')">ğŸ’° 3Pete</button>
</div>

<div class="album-scroll">
  @for (album of albumLibrary; track album.title) {
    <div class="album-card" (click)="loadAlbum(album)" [class.selected]="activeAlbum === album">
      <img [src]="album.coverArt" />
      <p>{{ album.title }}</p>
    </div>
  }
</div>

@if (activeAlbum) {
  <div class="album-hero">
    <img [src]="activeAlbum.coverArt" class="hero-blur" /> <div class="hero-content">
      <img [src]="activeAlbum.coverArt" class="main-art" />
      <div class="hero-text">
        <span class="badge">ALBUM</span>
        <h2>{{ activeAlbum.title }}</h2>
        <p>{{ activeAlbum.artist }}</p>
      </div>
    </div>
  </div>
}

<div class="playlist-container">
  <ul class="playlist">
    @for (v of videos; track v.id.videoId) {
      <li (click)="play(v)" [class.active]="currentVideo === v.id.videoId">
        <div class="track-info">
          <span class="play-indicator">@if(currentVideo === v.id.videoId) {  } @else { â–¶ }</span>
          <span class="track-title">{{ v.snippet.title }}</span>
        </div>
      </li>
    } @empty {
      <div class="empty-state">Your search results will appear here.</div>
    }
  </ul>
</div>

<app-player [videoId]="currentVideo"></app-player>